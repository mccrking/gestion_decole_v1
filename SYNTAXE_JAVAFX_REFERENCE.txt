================================================================================
              GUIDE DE SYNTAXE JAVAFX - RÃ‰FÃ‰RENCE RAPIDE
              Pour recrÃ©er le code si effacÃ© pendant la prÃ©sentation
================================================================================

ðŸ“… Date: 7 dÃ©cembre 2025
ðŸ‘¥ Groupe: Projet Gestion d'Ã‰cole
ðŸŽ¯ Objectif: MÃ©moriser la syntaxe de toutes les notions JavaFX

================================================================================
1. CONFIGURATION MAVEN (pom.xml)
================================================================================

STRUCTURE DE BASE:
------------------
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <groupId>com.ecole</groupId>
    <artifactId>gestion-ecole</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>jar</packaging>
</project>


PROPRIÃ‰TÃ‰S JAVA:
----------------
<properties>
    <maven.compiler.source>17</maven.compiler.source>
    <maven.compiler.target>17</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>


DÃ‰PENDANCES JAVAFX:
-------------------
<dependencies>
    <!-- JavaFX Controls -->
    <dependency>
        <groupId>org.openjfx</groupId>
        <artifactId>javafx-controls</artifactId>
        <version>17.0.2</version>
    </dependency>
    
    <!-- JavaFX FXML -->
    <dependency>
        <groupId>org.openjfx</groupId>
        <artifactId>javafx-fxml</artifactId>
        <version>17.0.2</version>
    </dependency>
    
    <!-- SQLite JDBC -->
    <dependency>
        <groupId>org.xerial</groupId>
        <artifactId>sqlite-jdbc</artifactId>
        <version>3.41.2.2</version>
    </dependency>
</dependencies>


PLUGIN JAVAFX:
--------------
<build>
    <plugins>
        <plugin>
            <groupId>org.openjfx</groupId>
            <artifactId>javafx-maven-plugin</artifactId>
            <version>0.0.8</version>
            <configuration>
                <mainClass>com.ecole.Main</mainClass>
            </configuration>
        </plugin>
    </plugins>
</build>


COMMANDES MAVEN:
----------------
mvn clean compile          # Compiler le projet
mvn javafx:run             # Lancer l'application
mvn clean package          # CrÃ©er le JAR


================================================================================
2. CLASSE PRINCIPALE (Main.java)
================================================================================

SYNTAXE COMPLÃˆTE:
-----------------
package com.ecole;

import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;
import com.ecole.database.DatabaseManager;

public class Main extends Application {
    
    @Override
    public void start(Stage primaryStage) throws Exception {
        // Initialiser la base de donnÃ©es
        DatabaseManager.initialiser();
        
        // Charger le fichier FXML
        Parent root = FXMLLoader.load(getClass().getResource("/fxml/Login.fxml"));
        
        // CrÃ©er la scÃ¨ne
        Scene scene = new Scene(root, 800, 600);
        
        // Ajouter CSS
        scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());
        
        // Configurer la fenÃªtre
        primaryStage.setTitle("Gestion d'Ã‰cole");
        primaryStage.setScene(scene);
        primaryStage.setMaximized(true);
        primaryStage.show();
    }
    
    public static void main(String[] args) {
        launch(args);
    }
}


POINTS CLÃ‰S:
------------
âœ“ extends Application                    # Classe JavaFX obligatoire
âœ“ @Override public void start()          # MÃ©thode principale
âœ“ Stage = FenÃªtre principale
âœ“ Scene = Contenu de la fenÃªtre
âœ“ FXMLLoader.load() = Charger interface
âœ“ launch(args) = DÃ©marrer l'application


================================================================================
3. FICHIERS FXML - SYNTAXE COMPLÃˆTE
================================================================================

EN-TÃŠTE OBLIGATOIRE:
--------------------
<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>


DÃ‰CLARATION AVEC CONTRÃ”LEUR:
-----------------------------
<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.ecole.controller.LoginController"
      alignment="CENTER" spacing="20">
    <!-- Contenu ici -->
</VBox>


ATTRIBUTS ESSENTIELS:
---------------------
xmlns:fx="http://javafx.com/fxml"              # Namespace JavaFX (obligatoire)
fx:controller="package.ClassName"              # Lien vers contrÃ´leur Java
fx:id="nomElement"                             # ID pour manipulation en Java
onAction="#nomMethode"                         # Ã‰vÃ©nement de clic
styleClass="nom-classe"                        # Classe CSS
style="-fx-background-color: red;"             # Style inline


================================================================================
4. LAYOUTS - TOUTES LES SYNTAXES
================================================================================

A) VBOX (Vertical Box):
-----------------------
<VBox spacing="20" alignment="CENTER" padding="15">
    <Label text="Titre"/>
    <TextField/>
    <Button text="OK"/>
</VBox>

Attributs:
- spacing="20"                  # Espace entre Ã©lÃ©ments (pixels)
- alignment="CENTER"            # Alignement (TOP_LEFT, CENTER, BOTTOM_RIGHT...)
- padding="15"                  # Marge intÃ©rieure
- VBox.vgrow="ALWAYS"           # L'Ã©lÃ©ment prend tout l'espace vertical


B) HBOX (Horizontal Box):
-------------------------
<HBox spacing="10" alignment="CENTER_LEFT">
    <Button text="Ajouter"/>
    <Button text="Modifier"/>
    <Button text="Supprimer"/>
    <Region HBox.hgrow="ALWAYS"/>
    <Button text="Actualiser"/>
</HBox>

Attributs:
- HBox.hgrow="ALWAYS"           # Ã‰lÃ©ment flexible (pousse les autres)
- fillHeight="true"             # Remplit la hauteur disponible


C) GRIDPANE (Grille):
---------------------
<GridPane hgap="10" vgap="10" alignment="CENTER">
    <Label text="Nom:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
    <TextField GridPane.columnIndex="1" GridPane.rowIndex="0"/>
    
    <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
    <TextField GridPane.columnIndex="1" GridPane.rowIndex="1"/>
</GridPane>

Attributs:
- hgap="10"                     # Espace horizontal entre cellules
- vgap="10"                     # Espace vertical entre cellules
- GridPane.columnIndex="0"      # Position colonne (0, 1, 2...)
- GridPane.rowIndex="0"         # Position ligne (0, 1, 2...)
- GridPane.columnSpan="2"       # Fusionner colonnes
- GridPane.rowSpan="2"          # Fusionner lignes


D) BORDERPANE (5 zones):
------------------------
<BorderPane>
    <top>
        <HBox><!-- Menu du haut --></HBox>
    </top>
    
    <left>
        <VBox><!-- Navigation gauche --></VBox>
    </left>
    
    <center>
        <StackPane fx:id="centerContent"><!-- Contenu principal --></StackPane>
    </center>
    
    <right>
        <!-- Zone droite (optionnelle) -->
    </right>
    
    <bottom>
        <Label text="Â© 2025"/>
    </bottom>
</BorderPane>

Zones disponibles:
- <top>      # Haut
- <left>     # Gauche
- <center>   # Centre (zone principale)
- <right>    # Droite
- <bottom>   # Bas


E) STACKPANE (Empilement):
--------------------------
<StackPane fx:id="centerContent">
    <!-- Les Ã©lÃ©ments se superposent -->
    <ImageView/>
    <Label text="Texte par-dessus l'image"/>
</StackPane>


F) ANCHORPANE (Ancrage):
------------------------
<AnchorPane>
    <Button text="OK" 
            AnchorPane.topAnchor="10" 
            AnchorPane.rightAnchor="10"/>
</AnchorPane>

Attributs:
- AnchorPane.topAnchor="10"     # Distance depuis le haut
- AnchorPane.bottomAnchor="10"  # Distance depuis le bas
- AnchorPane.leftAnchor="10"    # Distance depuis la gauche
- AnchorPane.rightAnchor="10"   # Distance depuis la droite


================================================================================
5. COMPOSANTS FXML - SYNTAXE DÃ‰TAILLÃ‰E
================================================================================

A) LABEL (Texte):
-----------------
<Label text="Nom d'utilisateur:" 
       style="-fx-font-size: 14px; -fx-font-weight: bold;"/>


B) TEXTFIELD (Champ de texte):
-------------------------------
<TextField fx:id="txtNom" 
           promptText="Entrez votre nom"
           prefWidth="200"/>


C) PASSWORDFIELD (Mot de passe):
---------------------------------
<PasswordField fx:id="txtPassword" 
               promptText="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"/>


D) BUTTON (Bouton):
-------------------
<Button text="Connexion" 
        onAction="#handleLogin"
        styleClass="button-primary"
        prefWidth="150"/>


E) COMBOBOX (Liste dÃ©roulante):
--------------------------------
<ComboBox fx:id="comboRole" 
          promptText="SÃ©lectionnez un rÃ´le"
          prefWidth="200">
    <items>
        <FXCollections fx:factory="observableArrayList">
            <String fx:value="ADMIN"/>
            <String fx:value="PROF"/>
            <String fx:value="ETUDIANT"/>
        </FXCollections>
    </items>
</ComboBox>


F) TABLEVIEW (Tableau):
------------------------
<TableView fx:id="tableUtilisateurs" VBox.vgrow="ALWAYS">
    <columns>
        <TableColumn text="ID" prefWidth="50">
            <cellValueFactory>
                <PropertyValueFactory property="id"/>
            </cellValueFactory>
        </TableColumn>
        
        <TableColumn text="Nom" prefWidth="200">
            <cellValueFactory>
                <PropertyValueFactory property="nomUtilisateur"/>
            </cellValueFactory>
        </TableColumn>
        
        <TableColumn text="Email" prefWidth="250">
            <cellValueFactory>
                <PropertyValueFactory property="email"/>
            </cellValueFactory>
        </TableColumn>
    </columns>
</TableView>

Note: PropertyValueFactory cherche les getters (getId(), getNomUtilisateur(), getEmail())


G) CHECKBOX (Case Ã  cocher):
-----------------------------
<CheckBox text="Se souvenir de moi" fx:id="checkRemember"/>


H) RADIOBUTTON (Bouton radio):
-------------------------------
<RadioButton text="Option 1" fx:id="radio1">
    <toggleGroup>
        <ToggleGroup fx:id="groupOptions"/>
    </toggleGroup>
</RadioButton>
<RadioButton text="Option 2" fx:id="radio2" toggleGroup="$groupOptions"/>


I) TEXTAREA (Zone de texte multiligne):
----------------------------------------
<TextArea fx:id="txtDescription" 
          promptText="Description..."
          prefRowCount="5"
          wrapText="true"/>


J) DATEPICKER (SÃ©lecteur de date):
-----------------------------------
<DatePicker fx:id="dateNaissance" 
            promptText="JJ/MM/AAAA"/>


K) MENUBAR (Barre de menu):
----------------------------
<MenuBar>
    <Menu text="Fichier">
        <MenuItem text="Nouveau" onAction="#handleNouveau"/>
        <MenuItem text="Ouvrir" onAction="#handleOuvrir"/>
        <SeparatorMenuItem/>
        <MenuItem text="Quitter" onAction="#handleQuitter"/>
    </Menu>
    <Menu text="Ã‰dition">
        <MenuItem text="Copier"/>
        <MenuItem text="Coller"/>
    </Menu>
</MenuBar>


L) SCROLLPANE (Zone dÃ©filante):
--------------------------------
<ScrollPane fitToWidth="true" fitToHeight="true">
    <content>
        <VBox><!-- Contenu dÃ©filant --></VBox>
    </content>
</ScrollPane>


================================================================================
6. CONTRÃ”LEUR JAVA - SYNTAXE COMPLÃˆTE
================================================================================

STRUCTURE DE BASE:
------------------
package com.ecole.controller;

import javafx.fxml.FXML;
import javafx.scene.control.*;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

public class UtilisateursController {
    
    // 1. DÃ‰CLARATION DES Ã‰LÃ‰MENTS FXML
    @FXML private TableView<Utilisateur> tableUtilisateurs;
    @FXML private TextField txtNom;
    @FXML private Button btnAjouter;
    @FXML private Label lblTotal;
    
    // 2. VARIABLES DE CLASSE
    private UtilisateurDAO dao = new UtilisateurDAO();
    private ObservableList<Utilisateur> liste = FXCollections.observableArrayList();
    
    // 3. MÃ‰THODE D'INITIALISATION (AUTOMATIQUE)
    @FXML
    public void initialize() {
        chargerDonnees();
        configurerTable();
    }
    
    // 4. GESTIONNAIRES D'Ã‰VÃ‰NEMENTS
    @FXML
    private void handleAjouter() {
        // Code ici
    }
    
    @FXML
    private void handleModifier() {
        // Code ici
    }
    
    // 5. MÃ‰THODES PRIVÃ‰ES
    private void chargerDonnees() {
        liste.clear();
        liste.addAll(dao.obtenirTous());
        tableUtilisateurs.setItems(liste);
    }
}


ANNOTATIONS IMPORTANTES:
------------------------
@FXML                              # Lien avec FXML (obligatoire)
@Override                          # Surcharge de mÃ©thode
@FXML public void initialize()    # AppelÃ©e automatiquement aprÃ¨s chargement


================================================================================
7. Ã‰VÃ‰NEMENTS - TOUTES LES SYNTAXES
================================================================================

A) Ã‰VÃ‰NEMENT DE BOUTON (onAction):
-----------------------------------
FXML:
<Button text="Ajouter" onAction="#handleAjouter"/>

JAVA:
@FXML
private void handleAjouter() {
    System.out.println("Bouton cliquÃ©!");
}


B) Ã‰VÃ‰NEMENT DE SOURIS (onMouseClicked):
-----------------------------------------
FXML:
<VBox onMouseClicked="#handleClick">

JAVA:
@FXML
private void handleClick(MouseEvent event) {
    System.out.println("Clic Ã : " + event.getX() + ", " + event.getY());
}


C) Ã‰VÃ‰NEMENT DE CLAVIER (onKeyPressed):
----------------------------------------
FXML:
<TextField onKeyPressed="#handleKeyPress"/>

JAVA:
@FXML
private void handleKeyPress(KeyEvent event) {
    if (event.getCode() == KeyCode.ENTER) {
        System.out.println("EntrÃ©e pressÃ©e!");
    }
}


D) Ã‰VÃ‰NEMENT DE SÃ‰LECTION (TableView):
---------------------------------------
JAVA:
tableUtilisateurs.getSelectionModel().selectedItemProperty().addListener(
    (observable, oldValue, newValue) -> {
        if (newValue != null) {
            System.out.println("SÃ©lectionnÃ©: " + newValue.getNom());
        }
    }
);


E) Ã‰VÃ‰NEMENT DE COMBOBOX:
--------------------------
JAVA:
comboRole.setOnAction(event -> {
    String selected = comboRole.getValue();
    System.out.println("SÃ©lectionnÃ©: " + selected);
});


F) Ã‰VÃ‰NEMENT LAMBDA (Style moderne):
-------------------------------------
btnSave.setOnAction(e -> {
    sauvegarder();
    dialog.close();
});

btnCancel.setOnAction(e -> dialog.close());


================================================================================
8. ALERTES - TOUTES LES SYNTAXES
================================================================================

A) ALERT D'INFORMATION:
-----------------------
Alert alert = new Alert(Alert.AlertType.INFORMATION);
alert.setTitle("SuccÃ¨s");
alert.setHeaderText(null);
alert.setContentText("Utilisateur ajoutÃ© avec succÃ¨s!");
alert.showAndWait();


B) ALERT D'AVERTISSEMENT:
--------------------------
Alert alert = new Alert(Alert.AlertType.WARNING);
alert.setTitle("Attention");
alert.setContentText("Veuillez sÃ©lectionner un Ã©lÃ©ment");
alert.showAndWait();


C) ALERT D'ERREUR:
-------------------
Alert alert = new Alert(Alert.AlertType.ERROR);
alert.setTitle("Erreur");
alert.setContentText("Impossible de se connecter Ã  la base de donnÃ©es");
alert.showAndWait();


D) ALERT DE CONFIRMATION:
--------------------------
Alert alert = new Alert(Alert.AlertType.CONFIRMATION);
alert.setTitle("Confirmation");
alert.setContentText("Voulez-vous vraiment supprimer cet Ã©lÃ©ment?");

Optional<ButtonType> result = alert.showAndWait();
if (result.isPresent() && result.get() == ButtonType.OK) {
    // L'utilisateur a cliquÃ© OK
    supprimer();
} else {
    // L'utilisateur a cliquÃ© Cancel
    System.out.println("AnnulÃ©");
}


E) MÃ‰THODE RÃ‰UTILISABLE:
-------------------------
private void showAlert(Alert.AlertType type, String titre, String message) {
    Alert alert = new Alert(type);
    alert.setTitle(titre);
    alert.setHeaderText(null);
    alert.setContentText(message);
    alert.showAndWait();
}

// Usage:
showAlert(Alert.AlertType.INFORMATION, "SuccÃ¨s", "OpÃ©ration rÃ©ussie!");


F) ALERT PERSONNALISÃ‰E:
------------------------
Alert alert = new Alert(Alert.AlertType.CONFIRMATION);
alert.setTitle("Choix multiple");
alert.setHeaderText("Que voulez-vous faire?");
alert.setContentText("Choisissez votre option:");

ButtonType btnOui = new ButtonType("Oui");
ButtonType btnNon = new ButtonType("Non");
ButtonType btnAnnuler = new ButtonType("Annuler", ButtonBar.ButtonData.CANCEL_CLOSE);

alert.getButtonTypes().setAll(btnOui, btnNon, btnAnnuler);

Optional<ButtonType> result = alert.showAndWait();
if (result.get() == btnOui) {
    System.out.println("Oui");
} else if (result.get() == btnNon) {
    System.out.println("Non");
} else {
    System.out.println("AnnulÃ©");
}


================================================================================
9. DIALOG (FenÃªtres modales) - SYNTAXE COMPLÃˆTE
================================================================================

CRÃ‰ATION D'UN DIALOG SIMPLE:
-----------------------------
Stage dialog = new Stage();
dialog.initModality(Modality.APPLICATION_MODAL);
dialog.setTitle("Ajouter un utilisateur");

VBox root = new VBox(10);
root.setPadding(new Insets(20));

Label lblNom = new Label("Nom:");
TextField txtNom = new TextField();

Button btnOK = new Button("OK");
btnOK.setOnAction(e -> dialog.close());

root.getChildren().addAll(lblNom, txtNom, btnOK);

Scene scene = new Scene(root, 300, 200);
dialog.setScene(scene);
dialog.showAndWait();


DIALOG AVEC GRIDPANE (Formulaire):
-----------------------------------
Stage dialog = new Stage();
dialog.initModality(Modality.APPLICATION_MODAL);

GridPane grid = new GridPane();
grid.setHgap(10);
grid.setVgap(10);
grid.setPadding(new Insets(20));

TextField txtNom = new TextField();
TextField txtEmail = new TextField();
PasswordField txtPassword = new PasswordField();
ComboBox<String> comboRole = new ComboBox<>();
comboRole.setItems(FXCollections.observableArrayList("ADMIN", "PROF", "ETUDIANT"));

grid.add(new Label("Nom:"), 0, 0);
grid.add(txtNom, 1, 0);
grid.add(new Label("Email:"), 0, 1);
grid.add(txtEmail, 1, 1);
grid.add(new Label("Mot de passe:"), 0, 2);
grid.add(txtPassword, 1, 2);
grid.add(new Label("RÃ´le:"), 0, 3);
grid.add(comboRole, 1, 3);

Button btnSave = new Button("Sauvegarder");
Button btnCancel = new Button("Annuler");

HBox buttons = new HBox(10, btnSave, btnCancel);
grid.add(buttons, 1, 4);

btnCancel.setOnAction(e -> dialog.close());
btnSave.setOnAction(e -> {
    // Sauvegarder les donnÃ©es
    dialog.close();
});

Scene scene = new Scene(grid, 400, 300);
dialog.setScene(scene);
dialog.showAndWait();


DIALOG AVEC RETOUR DE VALEUR:
------------------------------
private Utilisateur afficherFormulaire() {
    Stage dialog = new Stage();
    dialog.initModality(Modality.APPLICATION_MODAL);
    
    // ... Configuration du formulaire ...
    
    final Utilisateur[] resultat = {null};
    
    btnSave.setOnAction(e -> {
        Utilisateur u = new Utilisateur();
        u.setNom(txtNom.getText());
        u.setEmail(txtEmail.getText());
        resultat[0] = u;
        dialog.close();
    });
    
    dialog.showAndWait();
    return resultat[0];
}


================================================================================
10. CHARGEMENT DE VUES FXML - SYNTAXE COMPLÃˆTE
================================================================================

A) CHARGEMENT SIMPLE:
---------------------
try {
    FXMLLoader loader = new FXMLLoader(getClass().getResource("/fxml/Login.fxml"));
    Parent root = loader.load();
    Scene scene = new Scene(root);
    stage.setScene(scene);
    stage.show();
} catch (IOException e) {
    e.printStackTrace();
}


B) CHARGEMENT AVEC RÃ‰CUPÃ‰RATION DU CONTRÃ”LEUR:
-----------------------------------------------
try {
    FXMLLoader loader = new FXMLLoader(getClass().getResource("/fxml/Dashboard.fxml"));
    Parent root = loader.load();
    
    // RÃ©cupÃ©rer le contrÃ´leur
    DashboardController controller = loader.getController();
    controller.setUtilisateur(utilisateur);
    
    Scene scene = new Scene(root);
    stage.setScene(scene);
} catch (IOException e) {
    e.printStackTrace();
}


C) CHARGEMENT DYNAMIQUE (Changer le contenu):
----------------------------------------------
private void loadView(String fxmlFile) {
    try {
        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFile));
        Node content = loader.load();
        centerContent.getChildren().setAll(content);
    } catch (IOException e) {
        e.printStackTrace();
    }
}

// Usage:
loadView("/fxml/Utilisateurs.fxml");


D) CHARGEMENT AVEC CSS:
------------------------
FXMLLoader loader = new FXMLLoader(getClass().getResource("/fxml/Login.fxml"));
Parent root = loader.load();
Scene scene = new Scene(root, 800, 600);
scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());


E) NAVIGATION ENTRE FENÃŠTRES:
------------------------------
private void ouvrirDashboard(Utilisateur utilisateur) {
    try {
        FXMLLoader loader = new FXMLLoader(getClass().getResource("/fxml/Dashboard.fxml"));
        Parent root = loader.load();
        
        DashboardController controller = loader.getController();
        controller.setUtilisateur(utilisateur);
        
        Stage stage = new Stage();
        Scene scene = new Scene(root);
        scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());
        
        stage.setScene(scene);
        stage.setMaximized(true);
        stage.show();
        
        // Fermer la fenÃªtre actuelle
        Stage currentStage = (Stage) btnLogin.getScene().getWindow();
        currentStage.close();
        
    } catch (IOException e) {
        e.printStackTrace();
    }
}


================================================================================
11. CSS - SYNTAXE COMPLÃˆTE
================================================================================

A) STRUCTURE DU FICHIER CSS:
-----------------------------
/* style.css */

/* Styles gÃ©nÃ©raux */
.root {
    -fx-font-family: "Segoe UI", Arial, sans-serif;
    -fx-font-size: 14px;
}

/* Boutons */
.button {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-padding: 10px 20px;
    -fx-background-radius: 5px;
    -fx-cursor: hand;
}

.button:hover {
    -fx-background-color: #0056b3;
    -fx-scale-x: 1.05;
    -fx-scale-y: 1.05;
}

.button-success {
    -fx-background-color: #28a745;
}

.button-danger {
    -fx-background-color: #dc3545;
}

/* TableView */
.table-view {
    -fx-background-color: white;
}

.table-view .column-header {
    -fx-background-color: #f8f9fa;
    -fx-font-weight: bold;
}

.table-row-cell:selected {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
}


B) LIAISON CSS DANS FXML:
--------------------------
<Button text="Ajouter" styleClass="button-success"/>


C) LIAISON CSS DANS JAVA:
--------------------------
Scene scene = new Scene(root);
scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());


D) STYLES INLINE (FXML):
-------------------------
<VBox style="-fx-background-color: #667eea; 
             -fx-background-radius: 15px; 
             -fx-padding: 20px;">


E) STYLES INLINE (JAVA):
-------------------------
button.setStyle("-fx-background-color: red; -fx-text-fill: white;");


F) PROPRIÃ‰TÃ‰S CSS JAVAFX COURANTES:
------------------------------------
-fx-background-color: #ffffff;              # Couleur de fond
-fx-text-fill: #000000;                     # Couleur du texte
-fx-font-size: 16px;                        # Taille de police
-fx-font-weight: bold;                      # Gras
-fx-font-style: italic;                     # Italique
-fx-padding: 10px;                          # Marge intÃ©rieure
-fx-spacing: 10px;                          # Espace entre Ã©lÃ©ments
-fx-border-color: #cccccc;                  # Couleur de bordure
-fx-border-width: 2px;                      # Ã‰paisseur de bordure
-fx-border-radius: 5px;                     # Coins arrondis bordure
-fx-background-radius: 5px;                 # Coins arrondis fond
-fx-cursor: hand;                           # Curseur main (cliquable)
-fx-alignment: center;                      # Alignement
-fx-effect: dropshadow(...);                # Ombre portÃ©e


G) DÃ‰GRADÃ‰S:
------------
/* DÃ©gradÃ© linÃ©aire */
-fx-background-color: linear-gradient(to bottom, #667eea 0%, #764ba2 100%);

/* DÃ©gradÃ© radial */
-fx-background-color: radial-gradient(center 50% 50%, radius 50%, #667eea, #764ba2);


H) OMBRES:
----------
/* Ombre simple */
-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 2);

/* ParamÃ¨tres: (type, couleur, rayon, spread, offsetX, offsetY) */


================================================================================
12. OBSERVABLELIST - SYNTAXE COMPLÃˆTE
================================================================================

A) CRÃ‰ATION:
------------
ObservableList<Utilisateur> liste = FXCollections.observableArrayList();


B) AJOUTER DES Ã‰LÃ‰MENTS:
-------------------------
liste.add(nouvelUtilisateur);
liste.addAll(dao.obtenirTous());


C) SUPPRIMER DES Ã‰LÃ‰MENTS:
---------------------------
liste.remove(utilisateur);
liste.clear();


D) LIER Ã€ UN TABLEVIEW:
------------------------
tableUtilisateurs.setItems(liste);


E) LIER Ã€ UN COMBOBOX:
-----------------------
comboRole.setItems(FXCollections.observableArrayList("ADMIN", "PROF", "ETUDIANT"));


F) Ã‰COUTER LES CHANGEMENTS:
----------------------------
liste.addListener((ListChangeListener<Utilisateur>) change -> {
    while (change.next()) {
        if (change.wasAdded()) {
            System.out.println("AjoutÃ©: " + change.getAddedSubList());
        }
        if (change.wasRemoved()) {
            System.out.println("SupprimÃ©: " + change.getRemoved());
        }
    }
});


================================================================================
13. TABLEVIEW - SYNTAXE AVANCÃ‰E
================================================================================

A) CONFIGURATION EN JAVA:
--------------------------
TableView<Utilisateur> table = new TableView<>();
table.setItems(liste);

// CrÃ©er les colonnes
TableColumn<Utilisateur, Integer> colId = new TableColumn<>("ID");
colId.setCellValueFactory(new PropertyValueFactory<>("id"));

TableColumn<Utilisateur, String> colNom = new TableColumn<>("Nom");
colNom.setCellValueFactory(new PropertyValueFactory<>("nomUtilisateur"));

TableColumn<Utilisateur, String> colEmail = new TableColumn<>("Email");
colEmail.setCellValueFactory(new PropertyValueFactory<>("email"));

table.getColumns().addAll(colId, colNom, colEmail);


B) OBTENIR L'Ã‰LÃ‰MENT SÃ‰LECTIONNÃ‰:
----------------------------------
Utilisateur selected = table.getSelectionModel().getSelectedItem();
if (selected != null) {
    System.out.println("SÃ©lectionnÃ©: " + selected.getNom());
}


C) SÃ‰LECTION MULTIPLE:
-----------------------
table.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);
ObservableList<Utilisateur> selected = table.getSelectionModel().getSelectedItems();


D) COLONNES PERSONNALISÃ‰ES (Boutons):
--------------------------------------
TableColumn<Utilisateur, Void> colAction = new TableColumn<>("Actions");
colAction.setCellFactory(param -> new TableCell<>() {
    private final Button btn = new Button("Modifier");
    
    {
        btn.setOnAction(event -> {
            Utilisateur user = getTableView().getItems().get(getIndex());
            modifier(user);
        });
    }
    
    @Override
    protected void updateItem(Void item, boolean empty) {
        super.updateItem(item, empty);
        if (empty) {
            setGraphic(null);
        } else {
            setGraphic(btn);
        }
    }
});


================================================================================
14. GRIDPANE EN JAVA - SYNTAXE COMPLÃˆTE
================================================================================

CRÃ‰ATION ET CONFIGURATION:
---------------------------
GridPane grid = new GridPane();
grid.setHgap(10);                    # Espace horizontal
grid.setVgap(10);                    # Espace vertical
grid.setPadding(new Insets(20));     # Marge

// Ajouter des Ã©lÃ©ments
Label lblNom = new Label("Nom:");
TextField txtNom = new TextField();

grid.add(lblNom, 0, 0);              # (Ã©lÃ©ment, colonne, ligne)
grid.add(txtNom, 1, 0);

// Fusionner des cellules
Button btnSave = new Button("Sauvegarder");
grid.add(btnSave, 0, 5, 2, 1);       # (Ã©lÃ©ment, col, ligne, colspan, rowspan)


ALIGNEMENT:
-----------
GridPane.setHalignment(lblNom, HPos.RIGHT);
GridPane.setValignment(txtNom, VPos.CENTER);


CONTRAINTES:
------------
ColumnConstraints col1 = new ColumnConstraints();
col1.setPercentWidth(30);
ColumnConstraints col2 = new ColumnConstraints();
col2.setPercentWidth(70);
grid.getColumnConstraints().addAll(col1, col2);


================================================================================
15. MODÃˆLE DE DONNÃ‰ES - SYNTAXE COMPLÃˆTE
================================================================================

CLASSE MODÃˆLE (JavaBean):
--------------------------
package com.ecole.model;

public class Utilisateur {
    
    // Attributs privÃ©s
    private int id;
    private String nomUtilisateur;
    private String email;
    private String motDePasse;
    private String role;
    private int referenceId;
    
    // Constructeur vide (obligatoire)
    public Utilisateur() {
    }
    
    // Constructeur avec paramÃ¨tres
    public Utilisateur(int id, String nomUtilisateur, String email, 
                       String motDePasse, String role, int referenceId) {
        this.id = id;
        this.nomUtilisateur = nomUtilisateur;
        this.email = email;
        this.motDePasse = motDePasse;
        this.role = role;
        this.referenceId = referenceId;
    }
    
    // Getters et Setters (obligatoires pour PropertyValueFactory)
    public int getId() {
        return id;
    }
    
    public void setId(int id) {
        this.id = id;
    }
    
    public String getNomUtilisateur() {
        return nomUtilisateur;
    }
    
    public void setNomUtilisateur(String nomUtilisateur) {
        this.nomUtilisateur = nomUtilisateur;
    }
    
    public String getEmail() {
        return email;
    }
    
    public void setEmail(String email) {
        this.email = email;
    }
    
    public String getMotDePasse() {
        return motDePasse;
    }
    
    public void setMotDePasse(String motDePasse) {
        this.motDePasse = motDePasse;
    }
    
    public String getRole() {
        return role;
    }
    
    public void setRole(String role) {
        this.role = role;
    }
    
    public int getReferenceId() {
        return referenceId;
    }
    
    public void setReferenceId(int referenceId) {
        this.referenceId = referenceId;
    }
    
    // toString() pour affichage
    @Override
    public String toString() {
        return "Utilisateur{id=" + id + ", nom=" + nomUtilisateur + 
               ", email=" + email + ", role=" + role + "}";
    }
}


================================================================================
16. DAO (Data Access Object) - SYNTAXE COMPLÃˆTE
================================================================================

CLASSE DAO:
-----------
package com.ecole.dao;

import com.ecole.model.Utilisateur;
import com.ecole.database.DatabaseManager;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class UtilisateurDAO {
    
    // CREATE
    public boolean creer(Utilisateur utilisateur) {
        String sql = "INSERT INTO utilisateurs (nom_utilisateur, email, mot_de_passe, role, reference_id) " +
                     "VALUES (?, ?, ?, ?, ?)";
        
        try (Connection conn = DatabaseManager.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setString(1, utilisateur.getNomUtilisateur());
            pstmt.setString(2, utilisateur.getEmail());
            pstmt.setString(3, utilisateur.getMotDePasse());
            pstmt.setString(4, utilisateur.getRole());
            pstmt.setInt(5, utilisateur.getReferenceId());
            
            pstmt.executeUpdate();
            return true;
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
            return false;
        }
    }
    
    // READ ALL
    public List<Utilisateur> obtenirTous() {
        List<Utilisateur> liste = new ArrayList<>();
        String sql = "SELECT * FROM utilisateurs";
        
        try (Connection conn = DatabaseManager.getConnection();
             Statement stmt = conn.createStatement();
             ResultSet rs = stmt.executeQuery(sql)) {
            
            while (rs.next()) {
                Utilisateur u = new Utilisateur();
                u.setId(rs.getInt("id"));
                u.setNomUtilisateur(rs.getString("nom_utilisateur"));
                u.setEmail(rs.getString("email"));
                u.setMotDePasse(rs.getString("mot_de_passe"));
                u.setRole(rs.getString("role"));
                u.setReferenceId(rs.getInt("reference_id"));
                liste.add(u);
            }
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
        }
        
        return liste;
    }
    
    // READ ONE
    public Utilisateur obtenirParId(int id) {
        String sql = "SELECT * FROM utilisateurs WHERE id = ?";
        
        try (Connection conn = DatabaseManager.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            ResultSet rs = pstmt.executeQuery();
            
            if (rs.next()) {
                Utilisateur u = new Utilisateur();
                u.setId(rs.getInt("id"));
                u.setNomUtilisateur(rs.getString("nom_utilisateur"));
                u.setEmail(rs.getString("email"));
                u.setMotDePasse(rs.getString("mot_de_passe"));
                u.setRole(rs.getString("role"));
                u.setReferenceId(rs.getInt("reference_id"));
                return u;
            }
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
        }
        
        return null;
    }
    
    // UPDATE
    public boolean mettreAJour(Utilisateur utilisateur) {
        String sql = "UPDATE utilisateurs SET nom_utilisateur = ?, email = ?, " +
                     "mot_de_passe = ?, role = ?, reference_id = ? WHERE id = ?";
        
        try (Connection conn = DatabaseManager.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setString(1, utilisateur.getNomUtilisateur());
            pstmt.setString(2, utilisateur.getEmail());
            pstmt.setString(3, utilisateur.getMotDePasse());
            pstmt.setString(4, utilisateur.getRole());
            pstmt.setInt(5, utilisateur.getReferenceId());
            pstmt.setInt(6, utilisateur.getId());
            
            pstmt.executeUpdate();
            return true;
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
            return false;
        }
    }
    
    // DELETE
    public boolean supprimer(int id) {
        String sql = "DELETE FROM utilisateurs WHERE id = ?";
        
        try (Connection conn = DatabaseManager.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            pstmt.executeUpdate();
            return true;
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
            return false;
        }
    }
}


================================================================================
17. BASE DE DONNÃ‰ES SQLITE - SYNTAXE COMPLÃˆTE
================================================================================

CLASSE DatabaseManager:
------------------------
package com.ecole.database;

import java.sql.*;

public class DatabaseManager {
    
    private static final String URL = "jdbc:sqlite:ecole.db";
    
    public static Connection getConnection() throws SQLException {
        return DriverManager.getConnection(URL);
    }
    
    public static void initialiser() {
        try (Connection conn = getConnection();
             Statement stmt = conn.createStatement()) {
            
            // Activer les clÃ©s Ã©trangÃ¨res
            stmt.execute("PRAGMA foreign_keys = ON");
            
            // CrÃ©er la table
            String sql = """
                CREATE TABLE IF NOT EXISTS utilisateurs (
                    id INTEGER PRIMARY KEY AUTOINCREMENT,
                    nom_utilisateur TEXT UNIQUE NOT NULL,
                    email TEXT,
                    mot_de_passe TEXT NOT NULL,
                    role TEXT NOT NULL,
                    reference_id INTEGER
                )
            """;
            
            stmt.execute(sql);
            
            // InsÃ©rer admin par dÃ©faut
            String checkAdmin = "SELECT COUNT(*) FROM utilisateurs WHERE role = 'ADMIN'";
            ResultSet rs = stmt.executeQuery(checkAdmin);
            
            if (rs.next() && rs.getInt(1) == 0) {
                String insertAdmin = """
                    INSERT INTO utilisateurs (nom_utilisateur, email, mot_de_passe, role, reference_id) 
                    VALUES ('admin', 'admin@ecole.com', 'admin', 'ADMIN', 0)
                """;
                stmt.execute(insertAdmin);
                System.out.println("Admin crÃ©Ã©: admin@ecole.com / admin");
            }
            
            System.out.println("Base de donnÃ©es initialisÃ©e!");
            
        } catch (SQLException e) {
            System.err.println("Erreur: " + e.getMessage());
            e.printStackTrace();
        }
    }
}


TYPES SQL â†’ JAVA:
-----------------
INTEGER  â†’  int
TEXT     â†’  String
REAL     â†’  double
BLOB     â†’  byte[]


REQUÃŠTES PRÃ‰PARÃ‰ES:
-------------------
// Ã‰viter l'injection SQL
String sql = "SELECT * FROM utilisateurs WHERE nom = ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setString(1, nom);
ResultSet rs = pstmt.executeQuery();


================================================================================
18. NAVIGATION - PATTERN COMPLET
================================================================================

CLASSE BaseController (ContrÃ´leur parent):
-------------------------------------------
package com.ecole.controller;

import javafx.fxml.FXMLLoader;
import javafx.scene.Node;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;
import java.io.IOException;

public class BaseController {
    
    protected void naviguer(String fxmlPath, Node sourceNode) {
        try {
            Parent root = FXMLLoader.load(getClass().getResource(fxmlPath));
            Stage stage = (Stage) sourceNode.getScene().getWindow();
            Scene scene = new Scene(root);
            scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());
            stage.setScene(scene);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    
    protected void ouvrirNouvellefenetre(String fxmlPath) {
        try {
            Parent root = FXMLLoader.load(getClass().getResource(fxmlPath));
            Stage stage = new Stage();
            Scene scene = new Scene(root);
            scene.getStylesheets().add(getClass().getResource("/css/style.css").toExternalForm());
            stage.show();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    
    protected void fermerFenetre(Node node) {
        Stage stage = (Stage) node.getScene().getWindow();
        stage.close();
    }
}


UTILISATION:
------------
public class LoginController extends BaseController {
    
    @FXML
    private void handleLogin() {
        // Authentification...
        if (success) {
            naviguer("/fxml/Dashboard.fxml", btnLogin);
        }
    }
}


================================================================================
19. VALIDATION - PATTERNS COURANTS
================================================================================

VALIDATION D'EMAIL:
-------------------
private boolean validerEmail(String email) {
    String regex = "^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$";
    return email != null && email.matches(regex);
}


VALIDATION DE CHAMPS VIDES:
----------------------------
private boolean validerChamps(TextField... fields) {
    for (TextField field : fields) {
        if (field.getText() == null || field.getText().trim().isEmpty()) {
            field.setStyle("-fx-border-color: red;");
            return false;
        }
    }
    return true;
}


VALIDATION NUMÃ‰RIQUE:
----------------------
private boolean estNombre(String text) {
    try {
        Integer.parseInt(text);
        return true;
    } catch (NumberFormatException e) {
        return false;
    }
}


VALIDATION AVEC FEEDBACK:
--------------------------
@FXML
private void handleSubmit() {
    if (!validerEmail(txtEmail.getText())) {
        showAlert(Alert.AlertType.ERROR, "Erreur", "Email invalide");
        txtEmail.requestFocus();
        return;
    }
    
    if (txtPassword.getText().length() < 6) {
        showAlert(Alert.AlertType.ERROR, "Erreur", "Mot de passe trop court (min 6 caractÃ¨res)");
        txtPassword.requestFocus();
        return;
    }
    
    // Suite du traitement...
}


================================================================================
20. ASTUCES ET RACCOURCIS
================================================================================

RACCOURCIS INTELLIJ/ECLIPSE:
-----------------------------
Ctrl + Space         # AutocomplÃ©tion
Ctrl + Shift + O     # Organiser les imports
Ctrl + D             # Dupliquer la ligne
Ctrl + /             # Commenter/DÃ©commenter
Ctrl + Shift + F     # Formater le code


IMPORTS FRÃ‰QUENTS:
------------------
import javafx.application.Application;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.layout.*;
import javafx.stage.Stage;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import java.io.IOException;
import java.sql.*;
import java.util.ArrayList;
import java.util.List;


ERREURS FRÃ‰QUENTES Ã€ Ã‰VITER:
-----------------------------
âŒ Oublier @FXML avant les mÃ©thodes d'Ã©vÃ©nements
âŒ Oublier fx:id dans le FXML
âŒ Ne pas avoir de getter/setter pour PropertyValueFactory
âŒ Oublier d'initialiser ObservableList
âŒ Ne pas fermer les connexions SQL (utiliser try-with-resources)
âŒ Oublier xmlns:fx dans le FXML
âŒ Chemin incorrect vers les ressources (/fxml/ avec le slash initial)


BONNES PRATIQUES:
-----------------
âœ“ Toujours utiliser try-with-resources pour SQL
âœ“ SÃ©parer Model, View, Controller
âœ“ Utiliser PreparedStatement (Ã©viter injection SQL)
âœ“ Nommer les mÃ©thodes d'Ã©vÃ©nements avec "handle" (handleAjouter, handleModifier)
âœ“ Utiliser ObservableList pour les donnÃ©es dynamiques
âœ“ CrÃ©er des mÃ©thodes rÃ©utilisables (showAlert, loadView)
âœ“ Commenter le code complexe
âœ“ GÃ©rer les exceptions avec try-catch


================================================================================
21. CHECKLIST POUR RECRÃ‰ER LE CODE
================================================================================

SI LA PROF EFFACE UN FICHIER FXML:
-----------------------------------
1. â˜ Commencer par l'en-tÃªte XML
2. â˜ Ajouter les imports JavaFX
3. â˜ DÃ©clarer le layout racine (VBox, BorderPane, etc.)
4. â˜ Ajouter fx:controller avec le chemin complet
5. â˜ Ajouter fx:id pour tous les Ã©lÃ©ments Ã  manipuler en Java
6. â˜ Ajouter onAction pour les Ã©vÃ©nements
7. â˜ Configurer les attributs de layout (spacing, padding, alignment)


SI LA PROF EFFACE UN CONTRÃ”LEUR JAVA:
--------------------------------------
1. â˜ DÃ©clarer le package
2. â˜ Ajouter tous les imports nÃ©cessaires
3. â˜ CrÃ©er la classe
4. â˜ DÃ©clarer les variables avec @FXML (correspondant aux fx:id)
5. â˜ CrÃ©er la mÃ©thode initialize() avec @FXML
6. â˜ CrÃ©er les mÃ©thodes d'Ã©vÃ©nements avec @FXML
7. â˜ Ajouter la logique mÃ©tier


SI LA PROF EFFACE UN DAO:
--------------------------
1. â˜ DÃ©clarer le package et imports
2. â˜ CrÃ©er les 5 mÃ©thodes CRUD:
   - creer(Object obj)
   - obtenirTous()
   - obtenirParId(int id)
   - mettreAJour(Object obj)
   - supprimer(int id)
3. â˜ Utiliser try-with-resources
4. â˜ Utiliser PreparedStatement avec des ?
5. â˜ GÃ©rer les exceptions SQLException


SI LA PROF EFFACE UN MODÃˆLE:
-----------------------------
1. â˜ DÃ©clarer le package
2. â˜ CrÃ©er les attributs privÃ©s
3. â˜ CrÃ©er le constructeur vide
4. â˜ CrÃ©er le constructeur avec tous les paramÃ¨tres
5. â˜ GÃ©nÃ©rer tous les getters et setters
6. â˜ Ajouter toString() (optionnel)


================================================================================
FIN DU GUIDE DE SYNTAXE
================================================================================

Ce document contient TOUTES les syntaxes utilisÃ©es dans le projet.
Imprimez-le ou gardez-le ouvert sur votre tÃ©lÃ©phone pendant la prÃ©sentation!

ðŸ’¡ CONSEIL: Pendant la prÃ©sentation, si vous devez rÃ©Ã©crire du code:
1. Restez calme
2. Commencez par la structure de base
3. Ajoutez les dÃ©tails progressivement
4. Expliquez chaque ligne pendant que vous Ã©crivez
5. Testez le code aprÃ¨s l'avoir Ã©crit

Bonne chance! ðŸŽ“âœ¨
